{% extends "base.html" %}
{% import "macros.html" as macros %}
{% block title %}
GitCrab - {{ item.name }}
{% endblock title %}

{% block content %}
<h1>View Repository: {{ item.name }}</h1>

<div class="mb-10">
    <!-- Repository Metadata -->
    <div>
        <label><strong>ID:</strong> {{ item.id }}</label>
    </div>
    <div>
        <label><strong>Name:</strong> {{ item.name }}</label>
    </div>
    <div>
        <label><strong>Path:</strong> {{ item.path }}</label>
    </div>
    <div>
        <label><strong>Total Files:</strong> {{ data.total_files }}</label>
    </div>
    <div>
        <label><strong>Total Size:</strong> {{ data.total_size }} bytes</label>
    </div>
</div>

<!-- Repository Structure -->
<div>
    <label><strong>File Structure:</strong></label>
    {{ macros::render_repo_structure(structure=data.structure) | safe }}
</div>

<!-- File Content (if applicable) -->
{% if file_content %}
<div>
    <label><strong>File Content:</strong></label>
    <pre>{{ file_content.content }}</pre>
    <div>
        <label><strong>File Size:</strong> {{ file_content.size }} bytes</label>
    </div>
    <div>
        <label><strong>File Type:</strong> {% if file_content.is_binary %}Binary{% else %}Text{% endif %}</label>
    </div>
</div>
{% endif %}

<hr />

<a href="/git_repos">Back to Git Repositories</a>
{% endblock content %}


